<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Examples of data settings for radiative transfers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">programmer&#39;s documentation</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="cs_user_examples.html"><span>User&#160;examples</span></a></li>
      <li><a href="cs_var_dico.html"><span>Fortran-C&#160;naming&#160;reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cs_user_examples.html">User examples</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Examples of data settings for radiative transfers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="radiative_tr_sketch.gif" alt="radiative_tr_sketch.gif"/>
<div class="caption">
Sketch of thermal flux in boundary walls</div></div>
<p>The radiative boundary condition is based on the calculation of a new wall temperature. This temperature is computed with a thermal flux balance:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[{ Q_{conduction} = Q_{convection} + (Q_{rayt_{absorption}} - Q_{rayt_{emission}}}) \]" src="form_552.png"/>
</p>
<p>Therefore :</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \dfrac{xlamp}{epap} (T_{fluid} - T_{wall}) = h_{fluid} (T_{fluid} - T_{wall}) + epsp (Q_{incid} - \sigma * T_{wall}) \]" src="form_553.png"/>
</p>
<dl class="section note"><dt>Note</dt><dd>In <code>Code_Saturne</code> the flux is positive when it is oriented from inside to outside.</dd></dl>
<table class="doxtable">
<tr>
<th>Corps </th><th align="right">Emissivity  </th></tr>
<tr>
<td>polished steel </td><td align="right">0.06 </td></tr>
<tr>
<td>oxidized steel </td><td align="right">0.80 </td></tr>
<tr>
<td>steel rough </td><td align="right">0.94 </td></tr>
<tr>
<td>polished aluminium </td><td align="right">0.04 </td></tr>
<tr>
<td>oxidiezd aluminium (inside) </td><td align="right">0.09 </td></tr>
<tr>
<td>oxidized aluminium (wet air)</td><td align="right">0.90 </td></tr>
<tr>
<td>brick </td><td align="right">0.93 </td></tr>
<tr>
<td>concrete </td><td align="right">0.93 </td></tr>
<tr>
<td>paper </td><td align="right">0.8 to 0.9 </td></tr>
<tr>
<td>water </td><td align="right">0.96 </td></tr>
</table>
<h1><a class="anchor" id="bound_faces"></a>
Boundary faces identification</h1>
<p>Boundary faces may be identified using the <a class="el" href="cs__selector__f2c_8f90.html#a15b3c47b14d96445222d40944aa0d6e1">getfbr</a> subroutine. The syntax of this subroutine is described in the <a class="el" href="cs__user__boundary__conditions_8f90.html#acecf82910f8035f38ed401e5f7dfcda0">cs_user_boundary_conditions</a> subroutine, but a more thorough description can be found in the user guide.</p>
<dl class="section note"><dt>Note</dt><dd>These usefull constant are definded <br />
 <img class="formulaInl" alt="$ TKELVI = 273.16D0 $" src="form_554.png"/> <br />
 <img class="formulaInl" alt="$ SIG = 5.6703D-8 $" src="form_555.png"/></dd></dl>
<h1><a class="anchor" id="init_fin"></a>
Initialization and finalization</h1>
<p>The following initialization block needs to be added for the following examples:</p>
<div class="fragment"><div class="line"><span class="comment">! Allocate a temporary array for boundary faces selection</span></div>
<div class="line"><span class="keyword">allocate</span>(lstelt(<a class="code" href="group__mesh.html#gafd405a008e10defbfe94d267457278c5">nfabor</a>))</div>
</div><!-- fragment --><p> At the end of the subroutine, it is recommended to deallocate the work array:</p>
<div class="fragment"><div class="line"><span class="comment">! Deallocate the temporary array</span></div>
<div class="line"><span class="keyword">deallocate</span>(lstelt)</div>
</div><!-- fragment --><p> In theory Fortran 95 deallocates locally-allocated arrays automatically, but deallocating arrays in a symetric manner to their allocation is good pratice, and avoids using a different logic for C and Fortran.</p>
<p><b> Remaining initialisation</b></p>
<p>ivar: number of the thermal variable</p>
<div class="fragment"><div class="line">ivar = <a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__thermal.html#ga7bfe680df285604ff4e3e7a67ea0146e">iscalt</a>)</div>
</div><!-- fragment --><p> Min and Max values for the wall temperatures (clipping otherwise)</p>
<p><img class="formulaInl" alt="$ T_{min} $" src="form_556.png"/> and <img class="formulaInl" alt="$T_{max} $" src="form_557.png"/> are given in Kelvin.</p>
<div class="fragment"><div class="line">tmin = 0.d0</div>
<div class="line">tmax = <a class="code" href="group__cstnum.html#gad05b1b7b3f2b51b1e0dc51ec539e4b13">grand</a> + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
</div><!-- fragment --> <h1><a class="anchor" id="assign2"></a>
Assign boundary conditions to boundary wall</h1>
<h2><a class="anchor" id="zone_def"></a>
Zones definition</h2>
<p>We define zones of wall boundary, and we assign a type. This allows to apply the boundary conditions and realize balance sheets by treating them separately for each zone.</p>
<p>For each boundary face ifac (not just the faces of wall) the user defines his own choice by a number of zone <code>izfrdp(ifac)</code> from color of the boundary face or more generally, their properties (color, groups ...), or boundary conditions specified in <a class="el" href="cs__user__boundary__conditions_8f90.html#acecf82910f8035f38ed401e5f7dfcda0">cs_user_boundary_conditions</a>, or even of their coordinates.</p>
<dl class="section warning"><dt>Warning</dt><dd>It is essential that ALL boundary faces have been assigned to a zone. The number of zones (the value of <code>izfrdp(ifac)</code>) is arbitrarily chosen by the user, but must be a positive integer and less than or equal to <code>nbzrdm</code> (value set in parameter <a class="el" href="cs__field__pointer_8h.html#a8847cc7e9a0af792d5b3087efa1d9e00a83684c9789c44b5b6edca6ae4ae1eeb5">radiat::h</a>).</dd></dl>
<h2><a class="anchor" id="wall_carac"></a>
Wall caracteristics</h2>
<dl class="section warning"><dt>Warning</dt><dd>The unit of the temperature is the Kelvin</dd></dl>
<h3><a class="anchor" id="manda"></a>
Mandatory data</h3>
<ul>
<li><code>isothp(ifac)</code> boundary face type<ul>
<li><code>itpimp</code> -&gt; Gray wall with fixed inside temperature</li>
<li><code>ipgrno</code> -&gt; Gray wall with fixed outside temperature</li>
<li><code>iprefl</code> -&gt; Reflecting wall with fixed outside temperature</li>
<li><code>ifgrno</code> -&gt; Gray wall with fixed conduction flux</li>
<li><code>ifrefl</code> -&gt; Reflecting wall with fixed conduction flux</li>
</ul>
</li>
<li><code>tintp(ifac)</code> inside wall temperature (Kelvin) initialize thwall at the first time step. If <code>isothp</code> = <code>itpimp</code>, the value of thwall is fixed to <code>tintp</code> In the other case, <code>tintp</code> is only for initialization. </li>
</ul>
<h3><a class="anchor" id="data"></a>
Other data (depending of the isothp)</h3>
<ul>
<li><code>rcodcl</code> = conduction flux</li>
<li><code>epsp</code> = emissivity</li>
<li><code>xlamp</code> = conductivity ( <img class="formulaInl" alt="$W.m^{-1}.K^{-1}$" src="form_558.png"/>)</li>
<li><code>epap</code> = thickness ( <img class="formulaInl" alt="$m$" src="form_362.png"/>)</li>
<li><code>textp</code> = outside temperature ( <img class="formulaInl" alt="$K$" src="form_398.png"/>)</li>
</ul>
<h1><a class="anchor" id="ex"></a>
Examples of boundary conditions</h1>
<p>Here is a list of examples:</p>
<h2><a class="anchor" id="ex1"></a>
Gray or black wall with profil of fixed inside temperature</h2>
<p>For wall boundary faces, selection criteria: color 1 <br />
 </p><div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;1&#39;,nlelt,lstelt)</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a>) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">! zone number</span></div>
<div class="line">    izfrdp(ifac) = 51</div>
<div class="line"></div>
<div class="line">    <span class="comment">! Type of condition: gray or black wall with fixed inside temperature</span></div>
<div class="line">    isothp(ifac) = <a class="code" href="group__radiat.html#gafe238c273cf821d046d4d96b119b5c42">itpimp</a></div>
<div class="line"></div>
<div class="line">    <span class="comment">! Emissivity</span></div>
<div class="line">    epsp(ifac) = 0.1d0</div>
<div class="line"></div>
<div class="line">     ! profil of fixed inside temperature</div>
<div class="line">    tintp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --><h2><a class="anchor" id="ex2"></a>
Gray or black wall with fixed outside temperature \f$ T_{ext} \f$</h2>
<p>For wall boundary faces, selection criteria: color 2 <br />
 </p><div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;2&#39;,nlelt,lstelt)</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga682edbe2290ca55b8187a09547f41a23">iparug</a>) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">! zone number</span></div>
<div class="line">    izfrdp(ifac) = 52</div>
<div class="line"></div>
<div class="line">    <span class="comment">! Type of condition: gray or black wall with fixed outside temperature TEXTP</span></div>
<div class="line">    isothp(ifac) = <a class="code" href="group__radiat.html#gadc7cd36ef58df4c2b1b74d6c89a54846">ipgrno</a></div>
<div class="line"></div>
<div class="line">    <span class="comment">! Emissivity</span></div>
<div class="line">    epsp(ifac) = 0.9d0</div>
<div class="line">    <span class="comment">! Conductivity (W/m/K)</span></div>
<div class="line">    xlamp(ifac) = 3.0d0</div>
<div class="line">    <span class="comment">! Thickness    (m)</span></div>
<div class="line">    epap(ifac) = 0.1d0</div>
<div class="line">    <span class="comment">! Fixed outside temperature: 473.16 K</span></div>
<div class="line">    textp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line">    <span class="comment">! Initial inside temperature: 473.16 K</span></div>
<div class="line">    tintp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --><h2><a class="anchor" id="ex3"></a>
Reflecting wall (\f$ epsp = 0 \f$) with fixed outside temperature \f$ T_{ext} \f$</h2>
<p>For wall boundary faces, selection criteria: color 3 <br />
 </p><div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;3&#39;,nlelt,lstelt)</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a>) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">! zone number</span></div>
<div class="line">    izfrdp(ifac) = 53</div>
<div class="line"></div>
<div class="line">    <span class="comment">! Type of condition: reflecting wall with fixed outside temperature TEXTP</span></div>
<div class="line">    isothp(ifac) = <a class="code" href="group__radiat.html#gad8af1212241ba20cc72dfc6f2d3fdfee">iprefl</a></div>
<div class="line"></div>
<div class="line">    <span class="comment">! Conductivity (W/m/K)</span></div>
<div class="line">    xlamp(ifac) = 3.0d0</div>
<div class="line">    <span class="comment">! Thickness    (m)</span></div>
<div class="line">    epap(ifac) = 0.1d0</div>
<div class="line">    <span class="comment">! Fixed outside temperature: 473.16 K</span></div>
<div class="line">    textp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line">    <span class="comment">! Initial inside temperature: 473.16 K</span></div>
<div class="line">    tintp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --><h2><a class="anchor" id="ex4"></a>
Gray or black wall and fixed conduction flux through the wall</h2>
<p>For wall boundary faces which have the color 4: <br />
 </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \begin{array}{rcl} \frac{\texttt{xlamp}}{\texttt{epap}} \cdot (T_{wall} - T_{ext}) &amp;=&amp; \text{fixed conduction flux in } W.m^{-2} \\ &amp;=&amp; \texttt{rodcl(ifac,ivar,3)} \end{array} \]" src="form_559.png"/>
</p>
<p>If the conduction flux is zero then the wall is adiabatic. The array <img class="formulaInl" alt="$ \texttt{rcodcl(ifac,ivar,3)}$" src="form_560.png"/> has the value of the flux. <br />
Flux density (&lt; 0 if gain for the fluid)</p><ul>
<li>For temperature <img class="formulaInl" alt="$T$" src="form_561.png"/>, in <img class="formulaInl" alt="$ W.m^{-2}$" src="form_562.png"/>:</li>
</ul>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ rcodcl(ifac,ivar,3)=C_p (viscls+\frac{visct}{\sigma})\cdot \grad{T}\cdot \vect{n} \]" src="form_563.png"/>
</p>
<ul>
<li>For enthalpy <img class="formulaInl" alt="$h$" src="form_564.png"/>, in <img class="formulaInl" alt="$ W.m^{-2} $" src="form_565.png"/>: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ RCODC(IFAC,IVAR,3)=(viscls+\frac{visct}{\sigma})\cdot \grad{H} \cdot \vect{n}\]" src="form_566.png"/>
</p>
</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;4&#39;,nlelt,lstelt)</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a>) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line"><span class="comment">!      zone number</span></div>
<div class="line">    izfrdp(ifac) = 54</div>
<div class="line"></div>
<div class="line">    <span class="comment">! Type of condition: gray or black wall with fixed conduction flux through the wall</span></div>
<div class="line">    isothp(ifac) = <a class="code" href="group__radiat.html#ga0c0c27590ad2e4484ce63d7fa7497b32">ifgrno</a></div>
<div class="line"></div>
<div class="line">    <span class="comment">! Emissivity</span></div>
<div class="line">    epsp(ifac) = 0.9d0</div>
<div class="line">    <span class="comment">! Conduction flux (W/m2)</span></div>
<div class="line">    rcodcl(ifac,ivar,3) = 0.d0</div>
<div class="line">    <span class="comment">! Initial inside temperature: 473.16 K</span></div>
<div class="line">    tintp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --><h2><a class="anchor" id="ex5"></a>
Reflecting wall and fixed conduction flux through the wall</h2>
<p>For wall boundary faces which have the color 5:<br />
 </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{xlamp}{epap} \cdot (T_{wall} - T_{ext}) = \text{fixed conduction flux} \]" src="form_567.png"/>
</p>
<p> and <img class="formulaInl" alt="$ epsp = 0 $" src="form_568.png"/></p>
<p>If the conduction flux is zero then the wall is adiabatic. Flux density (&lt; 0 if gain for the fluid)</p><ul>
<li>For temperatures <img class="formulaInl" alt="$T$" src="form_561.png"/>, in <img class="formulaInl" alt="$ W.m^{-2} $" src="form_565.png"/>: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ rcodcl(ifac,ivar,3) = C_p (viscls+\frac{visct}{\sigma}) \cdot \grad{T}\cdot \vect{n} \]" src="form_569.png"/>
</p>
</li>
<li>For enthalpies <img class="formulaInl" alt="$h$" src="form_564.png"/>, in <img class="formulaInl" alt="$ W.m^{-2} $" src="form_565.png"/>: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ rcodcl(ifac,ivar,3) = (viscls+\frac{visct}{\sigma}) \cdot \grad{H} \cdot \vect{n} \]" src="form_570.png"/>
</p>
</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;5&#39;,nlelt,lstelt)</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a>) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">! zone number</span></div>
<div class="line">    izfrdp(ifac) = 55</div>
<div class="line"></div>
<div class="line">    <span class="comment">! Type of condition: reflecting wall with fixed conduction flux through the wall</span></div>
<div class="line">    isothp(ifac) = <a class="code" href="group__radiat.html#gacd855abea754a649ee3214fa08731860">ifrefl</a></div>
<div class="line"></div>
<div class="line">    <span class="comment">! Conduction flux (W/m2)</span></div>
<div class="line">    rcodcl(ifac,ivar,3) = 0.d0</div>
<div class="line">    <span class="comment">! Initial inside temperature: 473.16 K</span></div>
<div class="line">    tintp(ifac) = 200.d0 + <a class="code" href="group__cstphy.html#gaa07d4c6ad488a07e1eee70c807db5095">tkelvi</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --><h1><a class="anchor" id="w"></a>
Warning</h1>
<p>For all boundary faces that are not wall it is MANDATORY to impose a number of zone in the array <code>izfrdp</code>. For each zone, informations will be displayed in the listing.</p>
<div class="fragment"><div class="line"><span class="keywordflow">do</span> ifac = 1, <a class="code" href="group__mesh.html#gafd405a008e10defbfe94d267457278c5">nfabor</a></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>     (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#gadca0745d64c29b57e29c9fe0486420e9">isolib</a>) <span class="keywordflow">then</span></div>
<div class="line">    izfrdp(ifac) = 60</div>
<div class="line">  <span class="keywordflow">elseif</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#gaffd8b9dee424544a974d5714fa638498">ifrent</a>) <span class="keywordflow">then</span></div>
<div class="line">    izfrdp(ifac) = 61</div>
<div class="line">  <span class="keywordflow">elseif</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#gacd9bb8a485ad1e678b9a9a42ed812d22">ientre</a>) <span class="keywordflow">then</span></div>
<div class="line">    izfrdp(ifac) = 62</div>
<div class="line">  <span class="keywordflow">elseif</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga569ad3c6c47d2e28e78f1a1bed31a193">i_convective_inlet</a>) <span class="keywordflow">then</span></div>
<div class="line">    izfrdp(ifac) = 63</div>
<div class="line">  <span class="keywordflow">elseif</span> (<a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6e100e4fbfa13c374c51e7414a3e267a">isymet</a>) <span class="keywordflow">then</span></div>
<div class="line">    izfrdp(ifac) = 64</div>
</div><!-- fragment --><p> Verification that all boundary faces have been treated</p>
<div class="fragment"><div class="line">  <span class="keywordflow">elseif</span> ( <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a> .or.                      &amp;</div>
<div class="line">           <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac).eq.<a class="code" href="group__paramx.html#ga682edbe2290ca55b8187a09547f41a23">iparug</a>     ) <span class="keywordflow">then</span></div>
<div class="line">    <span class="keywordflow">if</span> (izfrdp(ifac) .eq. -1) <span class="keywordflow">then</span></div>
<div class="line">      <span class="keyword">write</span>(<a class="code" href="group__entsor.html#ga35356a73490ee90d10e4a96684169505">nfecra</a>,1000)ifac</div>
<div class="line">      iok = iok + 1</div>
<div class="line">    <span class="keywordflow">endif</span></div>
<div class="line">  <span class="keywordflow">endif</span></div>
</div><!-- fragment --><h1><a class="anchor" id="end_loop"></a>
End of the loop on the boundary faces</h1>
<div class="fragment"><div class="line"><span class="keywordflow">enddo</span></div>
<div class="line"></div>
<div class="line"><span class="comment">! Stop if there are forgotten faces</span></div>
<div class="line"><span class="keywordflow">if</span>(iok.ne.0) <span class="keywordflow">then</span></div>
<div class="line">  call <a class="code" href="cs__base__fortran_8c.html#ad2ce20d28f7075c1ed29cb67a990c7a6">csexit</a>(1)</div>
<div class="line">  <span class="comment">!==========</span></div>
<div class="line"><span class="keywordflow">endif</span></div>
</div><!-- fragment --><h1><a class="anchor" id="format_radiative_trans"></a>
Format</h1>
<div class="fragment"><div class="line"> 1000 <span class="keyword">format</span>(                                                     &amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>,/,                                                            &amp;</div>
<div class="line"><span class="stringliteral">&#39;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#39;</span>,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>,/,                                                            &amp;</div>
<div class="line"><span class="stringliteral">&#39;@ @@ WARNING:    stop in definition of boundary conditions&#39;</span>,/,   &amp;</div>
<div class="line"><span class="stringliteral">&#39;@    =======&#39;</span>,/,                                                 &amp;</div>
<div class="line"><span class="stringliteral">&#39;@   Radiative data are missing for face: &#39;</span>,i10,/,                &amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>,/,                                                            &amp;</div>
<div class="line"><span class="stringliteral">&#39;@   The user subroutine &#39;</span><span class="stringliteral">&#39;cs_user_radiative_transfer_bcs.f90&#39;</span> ,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@   must be completed.&#39;</span>                                       ,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>                                                            ,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@  The calculation will not be run.&#39;</span>                          ,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>                                                            ,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#39;</span>,/,&amp;</div>
<div class="line"><span class="stringliteral">&#39;@&#39;</span>,/)</div>
</div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 6 2016 17:20:36 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
