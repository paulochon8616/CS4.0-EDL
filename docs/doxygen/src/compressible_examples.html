<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Compressible examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">programmer&#39;s documentation</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="cs_user_examples.html"><span>User&#160;examples</span></a></li>
      <li><a href="cs_var_dico.html"><span>Fortran-C&#160;naming&#160;reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="cs_user_examples.html">User examples</a></li><li class="navelem"><a class="el" href="cs_user_boundary_conditions_examples.html">cs_user_boundary_conditions.f90</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compressible examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="advanced_loc_var_ce"></a>
Local variables to be added</h1>
<div class="fragment"><div class="line"><span class="keywordtype">integer</span>          ifac  , iel   , ii</div>
<div class="line"><span class="keywordtype">integer</span>          izone , iutile</div>
<div class="line"><span class="keywordtype">integer</span>          ilelt, nlelt</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">double precision</span> uref2 , dhyd  , rhomoy</div>
<div class="line"><span class="keywordtype">double precision</span> ustar2, xkent , xeent , d2s3</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">integer</span>, <span class="keywordtype">allocatable</span>, <span class="keywordtype">dimension(:)</span> :: lstelt</div>
<div class="line"><span class="keywordtype">double precision</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">pointer</span> ::  cpro_rom</div>
</div><!-- fragment --> <h1><a class="anchor" id="base_init_ce"></a>
Initialization and finalization</h1>
<p>Initialization and finalization is similar to that of the base examples</p>
<h1><a class="anchor" id="compressible_ex_1"></a>
Example 1</h1>
<p>Example of input / output for which everything is known.</p>
<p>Without presuming subsonic or supersonic character, the user wishes to impose all the flow characteristics. A supersonic inlet is a special case.</p>
<p>If the speed is outgoing, an homogenous Neumann is imposed on turbulence and user scalars.</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;1 and X &lt;= 1.0 &#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Cell adjacent to boundary face</span></div>
<div class="line"></div>
<div class="line">  iel = <a class="code" href="group__mesh.html#ga0d1cf9f4d3d0b6219ac4c4bda4797470">ifabor</a>(ifac)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number of zones from 1 to n...</span></div>
<div class="line">  izone = 1</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga9917bab63790ac1958915fa1238102da">iesicf</a></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Velocity</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gab6cfa74e47a0d12d050a2754262a4b95">iu</a>,1) = 5.0d0</div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#ga92b62f3d921525535a93525229a106a2">iv</a>,1) = 0.0d0</div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gafe8e8df233ec94d884116c7d0aa29ef2">iw</a>,1) = 0.0d0</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Pressure, Density, Temperature, Total Specific Energy</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">!     Only 2 of the 4 variables are independant,</span></div>
<div class="line">  <span class="comment">!     hence one can impose values for any couple of variables</span></div>
<div class="line">  <span class="comment">!     (except Temperature-Energy) and the two other variables</span></div>
<div class="line">  <span class="comment">!     will be computed automatically</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">!  ** Choose a couple of variables which values are to be imposed</span></div>
<div class="line">  <span class="comment">!     and delete the others (that will be computed with the help of</span></div>
<div class="line">  <span class="comment">!     the thermodynamic laws in cfther.f90).</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Pressure (in Pa)</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gad6a04316c3de6fdce7585d9847515b8a">ipr</a>,1) = 5.d5</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Temperature (in K)</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#gaff2907f21e197784f0e23f65b882b416">itempk</a>),1) = 300.d0</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Specific Total Energy (in J/kg)</span></div>
<div class="line">  <span class="comment">! rcodcl(ifac,isca(ienerg),1) = 355.d3</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Turbulence</span></div>
<div class="line"></div>
<div class="line">  uref2 = rcodcl(ifac,<a class="code" href="group__main__variables.html#gab6cfa74e47a0d12d050a2754262a4b95">iu</a>,1)**2 + rcodcl(ifac,<a class="code" href="group__main__variables.html#ga92b62f3d921525535a93525229a106a2">iv</a>,1)**2 + rcodcl(ifac,<a class="code" href="group__main__variables.html#gafe8e8df233ec94d884116c7d0aa29ef2">iw</a>,1)**2</div>
<div class="line">  uref2 = max(uref2,1.d-12)</div>
<div class="line"></div>
<div class="line">  <span class="comment">!   Turbulence example computed using equations valid for a pipe.</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">!   We will be careful to specify a hydraulic diameter adapted</span></div>
<div class="line">  <span class="comment">!     to the current inlet.</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">!   We will also be careful if necessary to use a more precise</span></div>
<div class="line">  <span class="comment">!     formula for the dynamic viscosity use in the calculation of</span></div>
<div class="line">  <span class="comment">!     the Reynolds number (especially if it is variable, it may be</span></div>
<div class="line">  <span class="comment">!     useful to take the law from &#39;usphyv&#39;. Here, we use by default</span></div>
<div class="line">  <span class="comment">!     the &#39;viscl0&quot; value.</span></div>
<div class="line">  <span class="comment">!   Regarding the density, we have access to its value at boundary</span></div>
<div class="line">  <span class="comment">!     faces (romb) so this value is the one used here (specifically,</span></div>
<div class="line">  <span class="comment">!     it is consistent with the processing in &#39;usphyv&#39;, in case of</span></div>
<div class="line">  <span class="comment">!     variable density)</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">!     Hydraulic diameter</span></div>
<div class="line">  dhyd   = 0.075d0</div>
<div class="line"></div>
<div class="line">  <span class="comment">!   Calculation of friction velocity squared (ustar2)</span></div>
<div class="line">  <span class="comment">!     and of k and epsilon at the inlet (xkent and xeent) using</span></div>
<div class="line">  <span class="comment">!     standard laws for a circular pipe</span></div>
<div class="line">  <span class="comment">!     (their initialization is not needed here but is good practice).</span></div>
<div class="line">  rhomoy = cpro_rom(iel)</div>
<div class="line">  ustar2 = 0.d0</div>
<div class="line">  xkent  = <a class="code" href="group__cstnum.html#ga7ce13e6a1bb416f0bdffcaf431135084">epzero</a></div>
<div class="line">  xeent  = <a class="code" href="group__cstnum.html#ga7ce13e6a1bb416f0bdffcaf431135084">epzero</a></div>
<div class="line"></div>
<div class="line">  call <a class="code" href="turent_8f90.html#a689f0f36b3b4c8f1a62b83b61358c5f7">keendb</a>                                              &amp;</div>
<div class="line">  <span class="comment">!==========</span></div>
<div class="line">    ( uref2, dhyd, rhomoy, <a class="code" href="group__cstphy.html#gab7fbc85b2a13abe8a8d6a4df343995b3">viscl0</a>, <a class="code" href="group__csttur.html#ga019fba8a896d405a7cae1c2f960fd521">cmu</a>, <a class="code" href="group__csttur.html#ga0cb384d0acda415e2d329b4d807c584a">xkappa</a>,            &amp;</div>
<div class="line">      ustar2, xkent, xeent )</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span>    (<a class="code" href="group__turbulence.html#ga65b4137820e92089e0ae2eae651509e4">itytur</a>.eq.2) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga0da9329edbed84e564928b950e9d9570">ik</a>,1)  = xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga52f2cbc26bf83508a779335c668f2895">iep</a>,1) = xeent</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">elseif</span>(<a class="code" href="group__turbulence.html#ga65b4137820e92089e0ae2eae651509e4">itytur</a>.eq.3) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga371f21c313d2820f269cc3dca293afe0">ir11</a>,1) = 2.d0/3.d0*xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gad23a1c619be0989736f6a5ad37447790">ir22</a>,1) = 2.d0/3.d0*xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gad511370b805821b77393645adcab562a">ir33</a>,1) = 2.d0/3.d0*xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gafaa05f3eb9f8a6fdbf883159c8c38829">ir12</a>,1) = 0.d0</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga7041cb277fde45af4f797bb0629f045d">ir13</a>,1) = 0.d0</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga02ee51e389e3eb413a72d0ad688ffb39">ir23</a>,1) = 0.d0</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga52f2cbc26bf83508a779335c668f2895">iep</a>,1)  = xeent</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">elseif</span>(<a class="code" href="group__turbulence.html#ga422877d65f809f5110d083afaad92854">iturb</a>.eq.50) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga0da9329edbed84e564928b950e9d9570">ik</a>,1)   = xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga52f2cbc26bf83508a779335c668f2895">iep</a>,1)  = xeent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga77858fb6ee8205a2416db13742d80fe4">iphi</a>,1) = d2s3</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gaa1cc52ea19b5d872238313ce1460e84a">ifb</a>,1)  = 0.d0</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">elseif</span>(<a class="code" href="group__turbulence.html#ga422877d65f809f5110d083afaad92854">iturb</a>.eq.60) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga0da9329edbed84e564928b950e9d9570">ik</a>,1)   = xkent</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gada4e3b8b2f79ca71ed8b3629e017bd53">iomg</a>,1) = xeent/<a class="code" href="group__csttur.html#ga019fba8a896d405a7cae1c2f960fd521">cmu</a>/xkent</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">elseif</span>(<a class="code" href="group__turbulence.html#ga422877d65f809f5110d083afaad92854">iturb</a>.eq.70) <span class="keywordflow">then</span></div>
<div class="line"></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gaa587bbda46fe2153de41858cecbd7902">inusa</a>,1) = <a class="code" href="group__csttur.html#ga019fba8a896d405a7cae1c2f960fd521">cmu</a>*xkent**2/xeent</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Handle scalars</span></div>
<div class="line">  <span class="comment">! (do not loop on nscal to avoid modifying rho and energy)</span></div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code" href="group__main__variables.html#gafb980bc95d923908c6dfa7691d443775">nscaus</a>.gt.0) <span class="keywordflow">then</span></div>
<div class="line">    <span class="keywordflow">do</span> ii = 1, <a class="code" href="group__main__variables.html#gafb980bc95d923908c6dfa7691d443775">nscaus</a></div>
<div class="line">      rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(ii),1) = 1.d0</div>
<div class="line">    <span class="keywordflow">enddo</span></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_2"></a>
Example 2</h1>
<p>Example supersonic output</p>
<p>All features are output. Internal values are used to calculate the flow edge, they should not be imposed.</p>
<p>For turbulence and scalar, if RCODCL values are provided, they will be used in Dirichlet if the mass flow is incoming, otherwise a null flow is imposed (flow outgoing mass or RCODCL informed here). Note that for turbulence RCODCL must be defined for all turbulent variables. Otherwise a null flow is applied).</p>
<p>TODO : verifier la traduction. Exemple de sortie supersonique</p>
<p>toutes les caracteristiques sortent on ne doit rien imposer (ce sont les valeurs internes qui sont utilisees pour le calcul des flux de bord)</p>
<p>pour la turbulence et les scalaires, si on fournit ici des valeurs de RCODCL, on les impose en Dirichlet si le flux de masse est entrant ; sinon, on impose un flux nul (flux de masse sortant ou RCODCL renseigne ici). Noter que pour la turbulence, il faut renseigner RCODCL pour toutes les variables turbulentes (sinon, on applique un flux nul).</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;2&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number zones from 1 to n...</span></div>
<div class="line">  izone = 2</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#gaf36920e8e9d45897cd4b8b38424577fb">isspcf</a></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_3"></a>
Example 3</h1>
<p>Subsonic input example (flow, flow calorimetry)</p>
<p>Two of three characteristics are incoming: two informations must be provided, third is deduced by a scenario of 2-contact and 3-relaxation in the field. Here we choose to give (rho * (U.n) * rho (U.n) * H)</p><ul>
<li>where H = 1/2 * G G + P / E + rho</li>
<li>and n is the unit normal incoming</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>DENSITIES debit (per unit area) are provided.</dd></dl>
<p>TODO : Verifier la traduction</p>
<p>Exemple d'entree subsonique (debit, debit enthalpique) </p><pre class="fragment">2 caracteristiques sur 3 entrent : il faut donner 2 informations
  la troisieme est deduite par un scenario de 2-contact et
  3-detente dans le domaine
ici on choisit de donner (rho*(U.n), rho*(U.n)*H)
  avec H = 1/2 U*U + P/rho + e
       n la normale unitaire entrante

ATTENTION, on donne des DENSITES de debit (par unite de surface)
</pre><div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;3&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number of zones from 1 to n...</span></div>
<div class="line">  izone = 3</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga305821211c4a69542b7ef5595f80e5f6">ieqhcf</a></div>
<div class="line"></div>
<div class="line">  <span class="comment">! - flow rate density (kg/(m2 s))</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__common.html#gab02fc3b0f8c219b4802398e85a245e2a">irun</a>,1) = 5.d5</div>
<div class="line"></div>
<div class="line">  <span class="comment">! - enthalpy flow rate density (J/(m2 s))</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__common.html#ga562cedc8cbb4b6ed6d396491fec69457">irunh</a>,1) = 5.d5</div>
<div class="line"></div>
<div class="line">  <span class="comment">!   Unavailable B.C. in current version</span></div>
<div class="line">  call <a class="code" href="cs__base__fortran_8c.html#ad2ce20d28f7075c1ed29cb67a990c7a6">csexit</a>(1)</div>
<div class="line">  <span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_4"></a>
Example 4</h1>
<p>Subsonic input example with density and velocity.</p>
<p>Two of three characteristics are incoming: two informations must be provided, third is deduced by a scenario of 2-contact and 3-relaxation in the field. Here we choose to give (rho, U).</p>
<p>TODO : Verifier la traduction Exemple d'entree subsonique (masse volumique, vitesse)</p>
<p>2 caracteristiques sur 3 entrent : il faut donner 2 informations la troisieme est deduite par un scenario de 2-contact et 3-detente dans le domaine ici on choisit de donner (rho, U)</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;4&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number zones from 1 to n...</span></div>
<div class="line">  izone = 4</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga9a141a8b9c3e9faf4734804d5415d354">iephcf</a></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Total pressure (in Pa)</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gad6a04316c3de6fdce7585d9847515b8a">ipr</a>,1) = 1.d5</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Total enthalpy</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#ga60b43da9b14c295759d79f6e86662104">ienerg</a>),1) = 294465.d0</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Direction of the velocity: normal to inlet faces</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gab6cfa74e47a0d12d050a2754262a4b95">iu</a>,1) = -<a class="code" href="group__mesh.html#gab92a04b00566bd35a2817f05ceeab026">surfbo</a>(1,ifac)</div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#ga92b62f3d921525535a93525229a106a2">iv</a>,1) = -<a class="code" href="group__mesh.html#gab92a04b00566bd35a2817f05ceeab026">surfbo</a>(2,ifac)</div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gafe8e8df233ec94d884116c7d0aa29ef2">iw</a>,1) = -<a class="code" href="group__mesh.html#gab92a04b00566bd35a2817f05ceeab026">surfbo</a>(3,ifac)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Turbulence (no turbulence)</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Handle scalars</span></div>
<div class="line">  <span class="comment">! (do not loop on nscal to avoid modifying rho and energy)</span></div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code" href="group__main__variables.html#gafb980bc95d923908c6dfa7691d443775">nscaus</a>.gt.0) <span class="keywordflow">then</span></div>
<div class="line">    <span class="keywordflow">do</span> ii = 1, <a class="code" href="group__main__variables.html#gafb980bc95d923908c6dfa7691d443775">nscaus</a></div>
<div class="line">      rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(ii),1) = 1.d0</div>
<div class="line">    <span class="keywordflow">enddo</span></div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_5"></a>
Example 5</h1>
<p>Subsonic outlet example</p>
<p>1 characteristic out of 3 exits: 1 information must be given the 2 others are deduced by a 2-contact and 3-relaxation in the domain. Here we choose to definer P.</p>
<p>Turbulence and user scalars take a zero flux.</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;5&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number zones from 1 to n...</span></div>
<div class="line">  izone = 5</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga1a7869c2eb6b3e53c7f2546561c3436d">isopcf</a></div>
<div class="line"></div>
<div class="line">  <span class="comment">! Pressure (in Pa)</span></div>
<div class="line">  rcodcl(ifac,<a class="code" href="group__main__variables.html#gad6a04316c3de6fdce7585d9847515b8a">ipr</a>,1) = 5.d5</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_6"></a>
Example 6</h1>
<p>Wall example</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;7&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number zones from 1 to n...</span></div>
<div class="line">  izone = 7</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga6431a0e8fa2d4488763b8d07d1b0bc95">iparoi</a></div>
<div class="line"></div>
<div class="line">  <span class="comment">! --- Sliding wall</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! By default, the wall does not slide.</span></div>
<div class="line">  <span class="comment">! If the wall slides, define the nonzero components of its velocity.</span></div>
<div class="line">  <span class="comment">! The velocity will be projected in a plane tangent to the wall.</span></div>
<div class="line">  <span class="comment">! In the following example, we prescribe Ux = 1.</span></div>
<div class="line">  <span class="comment">! (example activated if iutile=1)</span></div>
<div class="line"></div>
<div class="line">  iutile = 0</div>
<div class="line">  <span class="keywordflow">if</span>(iutile.eq.1) <span class="keywordflow">then</span></div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#gab6cfa74e47a0d12d050a2754262a4b95">iu</a>,1) = 1.d0</div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! --- Prescribed temperature</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! By default, the wall is adiabatic.</span></div>
<div class="line">  <span class="comment">! If the wall has a prescribed temperature, indicate it by setting</span></div>
<div class="line">  <span class="comment">! icodcl = 5 and define a value in Kelvin in rcodcl(., ., 1)</span></div>
<div class="line">  <span class="comment">! In the following example, we prescribe T = 293.15 K</span></div>
<div class="line">  <span class="comment">! (example activated if iutile=1)</span></div>
<div class="line"></div>
<div class="line">  iutile = 0</div>
<div class="line">  <span class="keywordflow">if</span>(iutile.eq.1) <span class="keywordflow">then</span></div>
<div class="line">    icodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#gaff2907f21e197784f0e23f65b882b416">itempk</a>))   = 5</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#gaff2907f21e197784f0e23f65b882b416">itempk</a>),1) = 20.d0 + 273.15d0</div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! --- Prescribed flux</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">! By default, the wall is adiabatic.</span></div>
<div class="line">  <span class="comment">! If the wall has a prescribed flux, indicate it by setting</span></div>
<div class="line">  <span class="comment">! icodcl = 3 and define the value in Watt/m2 in rcodcl(., ., 3)</span></div>
<div class="line">  <span class="comment">! In the following example, we prescribe a flux of 1000 W/m2</span></div>
<div class="line">  <span class="comment">! - a midday in the summer - (example is activated if iutile=1)</span></div>
<div class="line"></div>
<div class="line">  iutile = 0</div>
<div class="line">  <span class="keywordflow">if</span>(iutile.eq.1) <span class="keywordflow">then</span></div>
<div class="line">    icodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#gaff2907f21e197784f0e23f65b882b416">itempk</a>))   = 3</div>
<div class="line">    rcodcl(ifac,<a class="code" href="group__main__variables.html#ga2307b4d54b829b3aeeddf6c1e4e1129f">isca</a>(<a class="code" href="group__compressible.html#gaff2907f21e197784f0e23f65b882b416">itempk</a>),3) = 1000.d0</div>
<div class="line">  <span class="keywordflow">endif</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --> <h1><a class="anchor" id="compressible_ex_7"></a>
Example 7</h1>
<p>Symmetry example</p>
<div class="fragment"><div class="line"><span class="comment">call getfbr(&#39;8&#39;, nlelt, lstelt)</span></div>
<div class="line"><span class="comment">!==========</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">do</span> ilelt = 1, nlelt</div>
<div class="line"></div>
<div class="line">  ifac = lstelt(ilelt)</div>
<div class="line"></div>
<div class="line">  <span class="comment">! Number zones from 1 to n...</span></div>
<div class="line">  izone = 8</div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga835fee5118da238969d67e1c358d482a">izfppp</a>(ifac) = izone</div>
<div class="line"></div>
<div class="line">  <a class="code" href="group__coupled__case.html#ga60f3df1381261b9527adb47ac21aa62d">itypfb</a>(ifac) = <a class="code" href="group__paramx.html#ga6e100e4fbfa13c374c51e7414a3e267a">isymet</a></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">enddo</span></div>
</div><!-- fragment --></div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 6 2016 17:20:36 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
