<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>src/user/cs_user_boundary_conditions.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">programmer&#39;s documentation</div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="cs_user_examples.html"><span>User&#160;examples</span></a></li>
      <li><a href="cs_var_dico.html"><span>Fortran-C&#160;naming&#160;reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8b0164eb0fb74115683f9812cb2f78f0.html">user</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">cs_user_boundary_conditions.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>User subroutine which fills boundary conditions arrays (<code>icodcl</code>, <code>rcodcl</code>) for unknown variables.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:acecf82910f8035f38ed401e5f7dfcda0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cs__user__boundary__conditions_8f90.html#acecf82910f8035f38ed401e5f7dfcda0">cs_user_boundary_conditions</a> (nvar, nscal, icodcl, itrifb, itypfb, izfppp, <a class="el" href="cs__field__pointer_8h.html#a8847cc7e9a0af792d5b3087efa1d9e00ace72dfc61c6b4eec681c484e0afa7474">dt</a>, rcodcl)</td></tr>
<tr class="separator:acecf82910f8035f38ed401e5f7dfcda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>User subroutine which fills boundary conditions arrays (<code>icodcl</code>, <code>rcodcl</code>) for unknown variables. </p>
<h1><a class="anchor" id="cs_user_boundary_conditions_intro"></a>
Introduction</h1>
<p>Here one defines boundary conditions on a per-face basis.</p>
<p>Boundary faces may be selected using the <a class="el" href="cs__selector__f2c_8f90.html#a15b3c47b14d96445222d40944aa0d6e1">getfbr</a> subroutine.</p>
<div class="fragment"><div class="line"><a class="code" href="cs__selector__f2c_8f90.html#a15b3c47b14d96445222d40944aa0d6e1">getfbr</a>(string, nelts, lstelt) </div>
</div><!-- fragment --><ul>
<li>string is a user-supplied character string containing selection criteria;</li>
<li>nelts is set by the subroutine. It is an integer value corresponding to the number of boundary faces verifying the selection criteria;</li>
<li>lstelt is set by the subroutine. It is an integer array of size nelts containing the list of boundary faces verifying the selection criteria.</li>
</ul>
<p>string may contain:</p><ul>
<li>references to colors (ex.: 1, 8, 26, ...)</li>
<li>references to groups (ex.: inlet, group1, ...)</li>
<li>geometric criteria (ex. x &lt; 0.1, y &gt;= 0.25, ...)</li>
</ul>
<p>These criteria may be combined using logical operators (<code>and</code>,<code>or</code>) and parentheses.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">1 and(group2 or group3) and y &lt; 1 </div>
</div><!-- fragment --> will select boundary faces of color 1, belonging to groups 'group2' or 'group3' and with face center coordinate y less than 1.</dd></dl>
<p>Operators priority, from highest to lowest: '( )' &gt; 'not' &gt; 'and' &gt; 'or' &gt; 'xor'</p>
<p>Similarly, interior faces and cells can be identified using the <a class="el" href="cs__selector__f2c_8f90.html#a20665be3609551953f0cd17ea767d777">getfac</a> and <a class="el" href="cs__selector__f2c_8f90.html#a38790c6fd34e3546eb4eb449224d6dcc">getcel</a> subroutines (respectively). Their syntax are identical to <a class="el" href="cs__selector__f2c_8f90.html#a15b3c47b14d96445222d40944aa0d6e1">getfbr</a> syntax.</p>
<p>For a more thorough description of the criteria syntax, see the user guide.</p>
<h1><a class="anchor" id="bc_types"></a>
Boundary condition types</h1>
<p>Boundary conditions may be assigned in two ways.</p>
<h2><a class="anchor" id="std_bcs"></a>
For "standard" boundary conditions:</h2>
<p>One defines a code in the <code>itypfb</code> array (of dimensions number of boundary faces). This code will then be used by a non-user subroutine to assign the following conditions. The available codes are:</p><ul>
<li><code>ientre:</code> Inlet</li>
<li><code>isolib:</code> Free outlet</li>
<li><code>isymet:</code> Symmetry</li>
<li><code>iparoi:</code> Wall (smooth)</li>
<li><code>iparug:</code> Rough wall</li>
</ul>
<p>These integers are defined elsewhere (in <a class="el" href="paramx_8f90.html" title="Module for definition of general parameters. ">paramx.f90</a> module). Their value is greater than or equal to 1 and less than or equal to ntypmx (value fixed in paramx.h)</p>
<p>In addition, some values must be defined:</p><ul>
<li>Inlet (more precisely, inlet/outlet with prescribed flow, as the flow may be prescribed as an outflow):<ul>
<li>Dirichlet conditions on variables other than pressure are mandatory if the flow is incoming, optional if the flow is outgoing (the code assigns zero flux if no Dirichlet is specified); thus, at face <code>ifac</code>, for the variable <code>ivar:</code> <code>rcodcl(ifac, ivar, 1)</code> </li>
</ul>
</li>
<li>Smooth wall: (= impermeable solid, with smooth friction)<ul>
<li>Velocity value for sliding wall if applicable:<ul>
<li><code>rcodcl(ifac, iu, 1)</code> = fluid velocity in the x direction</li>
<li><code>rcodcl(ifac, iv, 1)</code> = fluid velocity in the y direction</li>
<li><code>rcodcl(ifac, iw, 1)</code> = fluid velocity in the z direction</li>
</ul>
</li>
<li>Specific code and prescribed temperature value at wall if applicable:<ul>
<li><code>icodcl(ifac, ivar)</code> = 5</li>
<li><code>rcodcl(ifac, ivar, 1)</code> = prescribed temperature</li>
</ul>
</li>
<li>Specific code and prescribed flux value at wall if applicable:<ul>
<li><code>icodcl(ifac, ivar)</code> = 3</li>
<li><code>rcodcl(ifac, ivar, 3)</code> = prescribed flux</li>
</ul>
</li>
</ul>
Note that the default condition for scalars (other than k and epsilon) is homogeneous Neumann.</li>
<li>Rough wall: (= impermeable solid, with rough friction)<ul>
<li>Velocity value for sliding wall if applicable:<ul>
<li><code>rcodcl(ifac, iu, 1)</code> = fluid velocity in the x direction</li>
<li><code>rcodcl(ifac, iv, 1)</code> = fluid velocity in the y direction</li>
<li><code>rcodcl(ifac, iw, 1)</code> = fluid velocity in the z direction</li>
</ul>
</li>
<li>Value of the dynamic roughness height to specify in<ul>
<li><code>rcodcl(ifac, iu, 3)</code> </li>
</ul>
</li>
<li>Value of the scalar roughness height (if required) to specify in<ul>
<li><code>rcodcl(ifac, iv, 3)</code> (values for iw are not used)</li>
</ul>
</li>
<li>Specific code and prescribed temperature value at wall if applicable:<ul>
<li><code>icodcl(ifac, ivar)</code> = 6</li>
<li><code>rcodcl(ifac, ivar, 1)</code> = prescribed temperature</li>
</ul>
</li>
<li>Specific code and prescribed flux value at rough wall, if applicable:<ul>
<li><code>icodcl(ifac, ivar)</code> = 3</li>
<li><code>rcodcl(ifac, ivar, 3)</code> = prescribed flux</li>
</ul>
</li>
</ul>
Note that the default condition for scalars (other than k and epsilon) is homogeneous Neumann.</li>
<li>Symmetry (= slip wall):<ul>
<li>Nothing to specify</li>
</ul>
</li>
<li>Free outlet (more precisely free inlet/outlet with prescribed pressure)<ul>
<li>Nothing to prescribe for pressure and velocity. For scalars and turbulent values, a Dirichlet value may optionally be specified. The behavior is as follows:<ul>
<li>pressure is always handled as a Dirichlet condition</li>
<li>if the mass flow is inflowing: one retains the velocity at infinity Dirichlet condition for scalars and turbulent values (or zero flux if the user has not specified a Dirichlet value)</li>
<li>if the mass flow is outflowing: one prescribes zero flux on the velocity, the scalars, and turbulent values</li>
</ul>
</li>
</ul>
Note that the pressure will be reset to p0 on the first free outlet face found.</li>
</ul>
<h2><a class="anchor" id="nonstd_bcs"></a>
For "non-standard" conditions:</h2>
<p>Other than (inlet, free outlet, wall, symmetry), one defines</p><ul>
<li>on one hand, for each face:<ul>
<li>an admissible <code>itypfb</code> value (i.e. greater than or equal to 1 and less than or equal to <code>ntypmx</code>; see its value in paramx.h). The values predefined in paramx.h: <code>ientre</code>, <code>isolib</code>, <code>isymet</code>, <code>iparoi</code>, <code>iparug</code> are in this range, and it is preferable not to assign one of these integers to <code>itypfb</code> randomly or in an inconsiderate manner. To avoid this, one may use <code>iindef</code> if one wish to avoid checking values in paramx.h. <code>iindef</code> is an admissible value to which no predefined boundary condition is attached. Note that the <code>itypfb</code> array is reinitialized at each time step to the non-admissible value of 0. If one forgets to modify <code>itypfb</code> for a given face, the code will stop.</li>
</ul>
</li>
<li>and on the other hand, for each face and each variable:<ul>
<li>a code<ul>
<li><code>icodcl(ifac, ivar)</code> </li>
</ul>
</li>
<li>three real values<ul>
<li><code>rcodcl(ifac, ivar, 1)</code> </li>
<li><code>rcodcl(ifac, ivar, 2)</code> </li>
<li><code>rcodcl(ifac, ivar, 3)</code> </li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a class="anchor" id="icodcl"></a><a class="anchor" id="rcodcl"></a> The value of <code>icodcl</code> is taken from the following:</p><ul>
<li>1: Dirichlet (usable for any variable)</li>
<li>3: Neumann (usable for any variable)</li>
<li>4: Symmetry (usable only for the velocity and components of the Rij tensor)</li>
<li>5: Smooth wall (usable for any variable except for pressure)</li>
<li>6: Rough wall (usable for any variable except for pressure)</li>
<li>9: Free outlet (usable only for velocity)</li>
<li>13: Dirichlet for the advection operator and Neumann for the diffusion operator</li>
</ul>
<p>The values of the 3 <code>rcodcl</code> components are:</p><ul>
<li><code>rcodcl(ifac, ivar, 1)</code>:<ul>
<li>Dirichlet for the variable if <code>icodcl(ifac, ivar)</code> = 1 or 13</li>
<li>Wall value (sliding velocity, temp) if <code>icodcl(ifac, ivar)</code> = 5</li>
</ul>
The dimension of <code>rcodcl(ifac, ivar, 1)</code> is that of the resolved variable, for instance:<ul>
<li>U (velocity in m/s),</li>
<li>T (temperature in degrees)</li>
<li>H (enthalpy in J/kg)</li>
<li>F (passive scalar in -)</li>
</ul>
</li>
<li><code>rcodcl(ifac, ivar, 2)</code>: "exterior" exchange coefficient (between the prescribed value and the value at the domain boundary) rinfin = infinite by default<ul>
<li>For velocities U, in kg/(m2 s): <code>rcodcl(ifac, ivar, 2)</code> = (viscl+visct) / d</li>
<li>For the pressure P, in s/m: <code>rcodcl(ifac, ivar, 2)</code> = dt / d</li>
<li>For temperatures T, in Watt/(m2 degres): <code>rcodcl(ifac, ivar, 2)</code> = Cp*(viscls+visct/sigmas) / d</li>
<li>For enthalpies H, in kg /(m2 s): <code>rcodcl(ifac, ivar, 2)</code> = (viscls+visct/sigmas) / d</li>
<li>For other scalars F in: <code>rcodcl(ifac, ivar, 2)</code> = (viscls+visct/sigmas) / d (d has the dimension of a distance in m)</li>
</ul>
</li>
<li><code>rcodcl(ifac, ivar, 3)</code> if <code>icodcl(ifac, ivar)</code> = 3 or 13: Flux density (&lt; 0 if gain, n outwards-facing normal)<ul>
<li>For velocities U, in kg/(m s2) = J: <code>rcodcl(ifac, ivar, 3)</code> = -(viscl+visct) * (grad U).n</li>
<li>For pressure P, in kg/(m2 s): <code>rcodcl(ifac, ivar, 3)</code> = -dt * (grad P).n</li>
<li>For temperatures T, in Watt/m2: <code>rcodcl(ifac, ivar, 3)</code> = -Cp*(viscls+visct/sigmas) * (grad T).n</li>
<li>For enthalpies H, in Watt/m2: <code>rcodcl(ifac, ivar, 3)</code> = -(viscls+visct/sigmas) * (grad H).n</li>
<li>For other scalars F in: <code>rcodcl(ifac, ivar, 3)</code> = -(viscls+visct/sigmas) * (grad F).n</li>
</ul>
</li>
<li><code>rcodcl(ifac, ivar, 3)</code> if <code>icodcl(ifac, ivar)</code> = 6: Roughness for the rough wall law<ul>
<li>For velocities U, dynamic roughness <code>rcodcl(ifac, iu, 3)</code> = roughd</li>
<li>For other scalars, thermal roughness <code>rcodcl(ifac, iv, 3)</code> = rough</li>
</ul>
</li>
</ul>
<p>Note that if the user assigns a value to <code>itypfb</code> equal to <code>ientre</code>, <code>isolib</code>, <code>isymet</code>, <code>iparoi</code>, or <code>iparug</code> and does not modify <code>icodcl</code> (zero value by default), <code>itypfb</code> will define the boundary condition type.</p>
<p>To the contrary, if the user prescribes <code>icodcl(ifac, ivar)</code> (nonzero), the values assigned to <code>rcodcl</code> will be used for the considered face and variable (if <code>rcodcl</code> values are not set, the default values will be used for the face and variable, so:</p><ul>
<li><code>rcodcl(ifac, ivar, 1)</code> = 0.d0</li>
<li><code>rcodcl(ifac, ivar, 2)</code> = rinfin</li>
<li><code>rcodcl(ifac, ivar, 3)</code> = 0.d0)</li>
</ul>
<p>Especially, one may have for example:</p><ul>
<li>set <code>itypfb(ifac)</code> = <code>iparoi</code> which prescribes default wall conditions for all variables at face ifac,</li>
<li>and define IN ADDITION for variable ivar on this face specific conditions by specifying <code>icodcl(ifac, ivar)</code> and the 3 <code>rcodcl</code> values.</li>
</ul>
<p>The user may also assign to <code>itypfb</code> a value not equal to <code>ientre</code>, <code>isolib</code>, <code>isymet</code>, <code>iparoi</code>, <code>iparug</code>, <code>iindef</code> but greater than or equal to 1 and less than or equal to ntypmx (see values in param.h) to distinguish groups or colors in other subroutines which are specific to the case and in which itypfb is accessible. In this case though it will be necessary to prescribe boundary conditions by assigning values to icodcl and to the 3 <code>rcodcl</code> fields (as the value of <code>itypfb</code> will not be predefined in the code).</p>
<h2><a class="anchor" id="comp_bcs"></a>
Boundary condition types for compressible flows</h2>
<p>For compressible flows, only predefined boundary conditions may be assigned among: <code>iparoi</code>, <code>isymet</code>, <code>iesicf</code>, <code>isspcf</code>, <code>isopcf</code>, <code>iephcf</code>, <code>ieqhcf</code> </p>
<ul>
<li><code>iparoi</code> : standard wall</li>
<li><code>isymet</code> : standard symmetry</li>
<li><code>iesicf</code>, <code>isspcf</code>, <code>isopcf</code>, <code>iephcf</code>, <code>ieqhcf</code> : inlet/outlet</li>
</ul>
<p>For inlets/outlets, we can prescribe a value for turbulence and passive scalars in <code>rcodcl</code>(.,.,1) for the case in which the mass flux is incoming. If this is not done, a zero flux condition is applied.</p>
<ul>
<li><code>iesicf:</code> prescribed inlet/outlet (for example supersonic inlet) the user prescribes the velocity and all thermodynamic variables</li>
<li><code>isspcf:</code> supersonic outlet the user does not prescribe anything</li>
<li><code>isopcf:</code> subsonic outlet with prescribed pressure the user presribes the pressure</li>
<li><code>iephcf:</code> mixed inlet with prescribed total pressure and enthalpy the user prescribes the total pressure and total enthalpy</li>
<li><code>ieqhcf:</code> subsonic inlet with prescribed mass and enthalpy flow to be implemented</li>
</ul>
<h2><a class="anchor" id="cons_rul"></a>
Consistency rules</h2>
<p>A few consistency rules between <code>icodcl</code> codes for variables with non-standard boundary conditions:</p>
<ul>
<li>Codes for velocity components must be identical</li>
<li>Codes for Rij components must be identical</li>
<li>If code (velocity or Rij) = 4 one must have code (velocity and Rij) = 4</li>
<li>If code (velocity or turbulence) = 5 one must have code (velocity and turbulence) = 5</li>
<li>If code (velocity or turbulence) = 6 one must have code (velocity and turbulence) = 6</li>
<li>If scalar code (except pressure or fluctuations) = 5 one must have velocity code = 5</li>
<li>If scalar code (except pressure or fluctuations) = 6 one must have velocity code = 6</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Caution: to prescribe a flux (nonzero) to Rij, the viscosity to take into account is viscl even if visct exists (visct=rho cmu k2/epsilon)</li>
<li>One have the ordering array for boundary faces from the previous time step (except for the fist one, where <code>itrifb</code> has not been set yet).</li>
<li>The array of boundary face types <code>itypfb</code> has been reset before entering the subroutine.</li>
</ul>
</dd></dl>
<h3><a class="anchor" id="cs_user_bc_cell_id"></a>
Cell values of some variables</h3>
<p>Cell value field ids</p>
<ul>
<li>Density: <code>iprpfl(irom)</code> </li>
<li>Dynamic molecular viscosity: <code>iprpfl(iviscl)</code> </li>
<li>Turbulent viscosity: <code>iprpfl(ivisct)</code> </li>
<li>Specific heat: <code>iprpfl(icp)</code> </li>
<li>Diffusivity(lambda): <code>field_get_key_int</code>(ivarfl(isca(iscal)), &amp; kivisl, ...)</li>
</ul>
<h3><a class="anchor" id="fac_id"></a>
Faces identification</h3>
<ul>
<li>Density: <code>field</code> id <code>ibrom</code> </li>
<li>Boundary mass flux (for convecting <code>ivar</code>): field id <code>iflmab</code> using <code>field_get_key_int(ivarfl(ivar), kbmasf, iflmab)</code> </li>
<li>For other values: take as an approximation the value in the adjacent cell i.e. as above with <code>iel</code> = ifabor(ifac). </li>
</ul>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a class="anchor" id="acecf82910f8035f38ed401e5f7dfcda0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cs_user_boundary_conditions </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nvar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>nscal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(nfabor,nvarcl)&#160;</td>
          <td class="paramname"><em>icodcl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(nfabor)&#160;</td>
          <td class="paramname"><em>itrifb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(nfabor)&#160;</td>
          <td class="paramname"><em>itypfb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(nfabor)&#160;</td>
          <td class="paramname"><em>izfppp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(ncelet)&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double precision, dimension(nfabor,nvarcl,3)&#160;</td>
          <td class="paramname"><em>rcodcl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nvar</td><td>total number of variables </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nscal</td><td>total number of scalars </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">icodcl</td><td>boundary condition code:<ul>
<li>1 Dirichlet</li>
<li>2 Radiative outlet</li>
<li>3 Neumann</li>
<li>4 sliding and <img class="formulaInl" alt="$ \vect{u} \cdot \vect{n} = 0 $" src="form_51.png"/></li>
<li>5 smooth wall and <img class="formulaInl" alt="$ \vect{u} \cdot \vect{n} = 0 $" src="form_51.png"/></li>
<li>6 rough wall and <img class="formulaInl" alt="$ \vect{u} \cdot \vect{n} = 0 $" src="form_51.png"/></li>
<li>9 free inlet/outlet (input mass flux blocked to 0)</li>
<li>13 Dirichlet for the advection operator and Neumann for the diffusion operator </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">itrifb</td><td>indirection for boundary faces ordering </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">itypfb</td><td>boundary face types </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">izfppp</td><td>boundary face zone number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>time step (per cell) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rcodcl</td><td>boundary condition values:<ul>
<li>rcodcl(1) value of the dirichlet</li>
<li>rcodcl(2) value of the exterior exchange coefficient (infinite if no exchange)</li>
<li>rcodcl(3) value flux density (negative if gain) in w/m2 or roughness in m if icodcl=6<ol type="1">
<li>for the velocity <img class="formulaInl" alt="$ (\mu+\mu_T) \gradt \, \vect{u} \cdot \vect{n} $" src="form_154.png"/></li>
<li>for the pressure <img class="formulaInl" alt="$ \Delta t \grad P \cdot \vect{n} $" src="form_53.png"/></li>
<li>for a scalar <img class="formulaInl" alt="$ cp \left( K + \dfrac{K_T}{\sigma_T} \right) \grad T \cdot \vect{n} $" src="form_54.png"/> </li>
</ol>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 6 2016 17:20:36 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
